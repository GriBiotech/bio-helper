import shutil
import pathlib
import glob
import os

print("--- –§–ò–ù–ê–õ–¨–ù–´–ô –í–ê–†–ò–ê–ù–¢: –ü–†–Ø–ú–ê–Ø –°–°–´–õ–ö–ê ---")

# 1. –ß–∏—Å—Ç–∏–º –∏ —Å–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É
if os.path.exists("docs"):
    shutil.rmtree("docs")
pathlib.Path("docs").mkdir(exist_ok=True)

# 2. –ò—â–µ–º –ª—é–±–æ–π PDF
pdf_files = glob.glob("*.pdf")
if not pdf_files:
    print("–û–®–ò–ë–ö–ê: –ù–µ—Ç PDF —Ñ–∞–π–ª–∞!")
    # –°–æ–∑–¥–∞–µ–º –∑–∞–≥–ª—É—à–∫—É, —á—Ç–æ–±—ã —Å–∞–π—Ç –Ω–µ –ø–∞–¥–∞–ª
    (pathlib.Path("docs") / "index.md").write_text("# –û—à–∏–±–∫–∞\n–ù–µ—Ç —Ñ–∞–π–ª–∞ —É—á–µ–±–Ω–∏–∫–∞.", encoding='utf-8')
    exit(0) 

# 3. –ö–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª
# –ü–µ—Ä–µ–∏–º–µ–Ω—É–µ–º –µ–≥–æ –≤ book.pdf, —á—Ç–æ–±—ã —Å—Å—ã–ª–∫–∞ –±—ã–ª–∞ –ø—Ä–æ—Å—Ç–æ–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–π
original_pdf = pdf_files[0]
target_pdf = "docs/book.pdf" 
shutil.copy(original_pdf, target_pdf)

print(f"–§–∞–π–ª {original_pdf} —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ {target_pdf}")

# 4. –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∫–Ω–æ–ø–∫–æ–π
# –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ—Å—Ç–æ–π Markdown. –ù–∏–∫–∞–∫–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤.
md_content = f"""
# –ë–∏–æ–ª–æ–≥–∏—è (5 –∫–ª–∞—Å—Å)

–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å —É—á–µ–±–Ω–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ –Ω–∏–∂–µ.

[üìñ –û–¢–ö–†–´–¢–¨ –£–ß–ï–ë–ù–ò–ö (PDF)](book.pdf)

---
*–ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–∂–∞—Ç—å –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –∏ –≤—ã–±—Ä–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Å—ã–ª–∫—É –∫–∞–∫..."*
"""

(pathlib.Path("docs") / "index.md").write_text(md_content, encoding='utf-8')

print("–ì–û–¢–û–í–û! –°—Å—ã–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∞.")
